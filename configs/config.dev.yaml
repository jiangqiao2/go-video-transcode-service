# 转码服务开发环境配置
server:
  port: 8082
  mode: debug
  read_timeout: 60s
  write_timeout: 60s

# 数据库配置
database:
  mysql:
    host: localhost
    port: 3306
    username: go_video_user
    password: go_video_pass
    database: transcode_service
    charset: utf8mb4
    parse_time: true
    loc: Local
    max_idle_conns: 10
    max_open_conns: 100
    conn_max_lifetime: 3600s

# Redis配置
redis:
  host: localhost
  port: 6379
  password: ""
  db: 2
  pool_size: 10
  min_idle_conns: 5

# MinIO配置
minio:
  endpoint: localhost:9000
  access_key: minioadmin
  secret_key: minioadmin123
  use_ssl: false
  bucket_name: transcode-videos

# 转码配置
transcode:
  # FFmpeg配置
  ffmpeg:
    binary_path: "/usr/local/bin/ffmpeg"
    temp_dir: "/tmp/transcode"
    max_concurrent_tasks: 4
    timeout: 3600s
  
  # 输出格式配置
  output_formats:
    - name: "720p"
      resolution: "1280x720"
      bitrate: "2000k"
      codec: "libx264"
      preset: "medium"
    - name: "480p"
      resolution: "854x480"
      bitrate: "1000k"
      codec: "libx264"
      preset: "medium"
    - name: "360p"
      resolution: "640x360"
      bitrate: "500k"
      codec: "libx264"
      preset: "fast"

# 调度器配置
scheduler:
  enabled: true
  task_poll_interval: 5s
  worker_heartbeat_timeout: 30s
  max_retry_count: 3
  cleanup_interval: 300s

# Worker配置
worker:
  enabled: true
  worker_id: "worker-001"
  heartbeat_interval: 10s
  task_poll_interval: 3s
  max_concurrent_tasks: 2

# 日志配置
log:
  level: debug
  format: json
  output: stdout
  file_path: "/var/log/transcode-service/app.log"
  max_size: 100
  max_backups: 7
  max_age: 30
  compress: true